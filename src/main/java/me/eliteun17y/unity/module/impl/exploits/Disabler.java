package me.eliteun17y.unity.module.impl.exploits;

import me.eliteun17y.unity.event.Direction;
import me.eliteun17y.unity.event.Subscribe;
import me.eliteun17y.unity.event.impl.EventPacket;
import me.eliteun17y.unity.event.impl.EventUpdate;
import me.eliteun17y.unity.module.Category;
import me.eliteun17y.unity.module.Module;
import me.eliteun17y.unity.util.chat.ChatUtil;
import me.eliteun17y.unity.util.player.PlayerUtil;
import me.eliteun17y.unity.util.setting.impl.ModeValue;
import me.eliteun17y.unity.util.time.Timer;
import me.eliteun17y.unity.util.world.PacketUtil;
import me.eliteun17y.unity.util.world.TimerUtil;
import net.minecraft.client.entity.EntityPlayerSP;
import net.minecraft.entity.item.EntityBoat;
import net.minecraft.entity.player.PlayerCapabilities;
import net.minecraft.network.Packet;
import net.minecraft.network.play.client.*;
import net.minecraft.network.play.server.SPacketOpenWindow;
import net.minecraft.network.play.server.SPacketPlayerPosLook;
import net.minecraft.util.EnumFacing;
import net.minecraft.util.EnumHand;
import net.minecraft.util.math.BlockPos;
import net.minecraftforge.fml.common.ObfuscationReflectionHelper;
import org.lwjgl.input.Keyboard;

import java.util.ArrayList;
import java.util.UUID;

public class Disabler extends Module {
    public ModeValue mode = new ModeValue(this, "Mode", "Negativity 1.0", "Negativity 1.0");

    public Timer timer = new Timer();
    public ArrayList<Packet> packets = new ArrayList<>();

    public Disabler() {
        super("Disabler", "Disables anticheats.", Category.EXPLOITS, Keyboard.KEY_NONE);
    }

    @Override
    public void onEnable() {
        super.onEnable();
        timer.reset();
    }

    @Override
    public void onDisable() {
        super.onDisable();
        TimerUtil.setSpeed(1);
    }

    @Subscribe
    public void onUpdate(EventUpdate event) {

    }

    @Subscribe
    public void onPacket(EventPacket event) {
        switch(mode.getMode()) {
            case "Negativity":
                if(event.getPacket() instanceof CPacketPlayer) {
                    if(mc.player.ticksExisted % 8 == 0) {
                        PacketUtil.sendSilentPacket(new CPacketPlayer.Position(0, 0, 0, true));
                        event.setCancelled(true);
                    }
                }
                break;
        }
    }
}
